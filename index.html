const movies = [
    { 
        title: "Big Buck Bunny", 
        img: "https://peach.blender.org/wp-content/uploads/bbb-splash.png", 
        url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
        type: "direct"
    },
    { 
        title: "Madness Combat 1", 
        img: "https://wallpaperaccess.com/full/4119853.jpg", 
        // Utilisation du lecteur officiel Newgrounds/YouTube pour éviter le blocage
        url: "https://www.youtube.com/embed/mO6M4mox-I8", 
        type: "embed" 
    },
    { 
        title: "Sintel", 
        img: "https://durian.blender.org/wp-content/uploads/2010/05/sintel_poster_01_web.jpg", 
        url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4",
        type: "direct"
    }
];

// Modifie la fonction openPlayer dans ton code :
function openPlayer(title, url, type) {
    const videoPlayer = document.getElementById('video');
    const modal = document.getElementById('modal');
    const container = document.querySelector('.modal-content');

    // On nettoie l'ancien lecteur
    container.innerHTML = '<span class="close" onclick="closePlayer()">&times;</span>';
    
    if(type === "embed") {
        // Si c'est un lien YouTube/Embed, on crée une iframe
        container.innerHTML += `<iframe width="100%" height="500px" src="${url}?autoplay=1" frameborder="0" allowfullscreen></iframe>`;
    } else {
        // Si c'est un lien direct (Blender), on utilise la balise vidéo
        container.innerHTML += `<video id="video" controls autoplay src="${url}"></video>`;
    }
    
    document.getElementById('v-title').innerText = title;
    modal.style.display = 'flex';
}
