<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>LAMAstream</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

<style>
:root {
    --bg: #0b0b0e;
    --card: #15151b;
    --text: #eaeaea;
    --muted: #9a9a9a;
    --accent: #e50914;
}

* { box-sizing: border-box; }

body {
    margin: 0;
    font-family: Inter, sans-serif;
    background: var(--bg);
    color: var(--text);
}

/* HEADER */
header {
    padding: 1rem 4%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #1f1f1f;
}

.logo {
    font-weight: 800;
    font-size: 1.4rem;
    color: var(--accent);
}

input {
    background: #111;
    border: 1px solid #222;
    padding: 0.6rem 1rem;
    border-radius: 6px;
    color: white;
}

/* GRID */
.container {
    padding: 2rem 4%;
}

.grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
    gap: 1.5rem;
}

.card {
    background: var(--card);
    border-radius: 10px;
    overflow: hidden;
    cursor: pointer;
    transition: transform .25s;
}

.card:hover {
    transform: scale(1.05);
}

.card img {
    width: 100%;
    height: 300px;
    object-fit: cover;
}

.card h3 {
    font-size: 0.95rem;
    padding: 0.8rem;
}

/* MODAL */
.modal {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,.9);
    display: none;
    justify-content: center;
    align-items: center;
}

.modal-content {
    width: 90%;
    max-width: 900px;
}

iframe, video {
    width: 100%;
    aspect-ratio: 16/9;
    border-radius: 8px;
}

.close {
    text-align: right;
    margin-bottom: .5rem;
    cursor: pointer;
    color: var(--muted);
}
</style>
</head>

<body>

<header>
    <div class="logo">LAMAstream</div>
    <input id="search" placeholder="Rechercher...">
</header>

<div class="container">
    <div class="grid" id="grid"></div>
</div>

<div class="modal" id="modal">
    <div class="modal-content" id="modal-content"></div>
</div>

<script>
const movies = [
 { title:"Kung Fury", img:"https://m.media-amazon.com/images/M/MV5BMjA5OTYyMjg2NF5BMl5BanBnXkFtZTgwOTI4NjgyNTE@._V1_.jpg", url:"https://www.youtube.com/embed/bS5P_LAqiVg", type:"embed" },
 { title:"Big Buck Bunny", img:"https://peach.blender.org/wp-content/uploads/bbb-splash.png", url:"https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4", type:"direct" }
];

const grid = document.getElementById("grid");
const modal = document.getElementById("modal");
const content = document.getElementById("modal-content");

function render(list){
 grid.innerHTML = list.map(m => `
  <div class="card" data-url="${m.url}" data-type="${m.type}">
    <img src="${m.img}">
    <h3>${m.title}</h3>
  </div>
 `).join("");
}

grid.onclick = e => {
 const card = e.target.closest(".card");
 if(!card) return;

 content.innerHTML = `
  <div class="close">âœ•</div>
  ${card.dataset.type === "embed"
   ? `<iframe src="${card.dataset.url}?autoplay=1" allowfullscreen></iframe>`
   : `<video src="${card.dataset.url}" controls autoplay></video>`
  }
 `;
 modal.style.display = "flex";
};

modal.onclick = e => {
 if(e.target.classList.contains("modal") || e.target.classList.contains("close")){
  modal.style.display = "none";
  content.innerHTML = "";
 }
};

document.getElementById("search").oninput = e => {
 const v = e.target.value.toLowerCase();
 render(movies.filter(m => m.title.toLowerCase().includes(v)));
};

render(movies);
</script>

</body>
</html>
